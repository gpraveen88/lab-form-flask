{% extends "login_home.html" %}
{% block content %}

<div class="max-w-7xl mx-auto px-4 py-6">
  <!-- Header -->
  <header class="bg-gradient-to-r from-purple-200 to-purple-300 rounded-md shadow-sm p-4 text-center mb-6">
    <h1 class="text-2xl font-semibold text-purple-800">ðŸ“‹ Equipment Inventory List</h1>
  </header>

  <!-- Search Form -->
  <form method="GET" action="{{ url_for('equipment_list') }}" class="flex items-center justify-center mb-6">
    <input 
      type="text" 
      name="search" 
      placeholder="Search by any field..." 
      class="border border-gray-300 rounded p-2 w-1/2 focus:outline-none focus:ring focus:border-purple-400"
      value="{{ request.args.get('search', '') }}"
    >
    <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded ml-2">
      Search
    </button>
  </form>

  <!-- Export Buttons -->
  <div class="mb-4 text-right">
    <a href="{{ url_for('export_equipment', file_format='excel') }}" class="bg-green-600 text-white px-3 py-2 rounded">Export to Excel</a>
    <a href="{{ url_for('export_equipment', file_format='pdf') }}" class="bg-red-600 text-white px-3 py-2 rounded ml-2">Export to PDF</a>
  </div>

  <!-- Equipment Table -->
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white border border-gray-300 text-sm">
      <thead class="bg-gray-100 text-left">
        <tr>
          <th class="border px-4 py-2">Department Code</th>
          <th class="border px-4 py-2">Name</th>
          <th class="border px-4 py-2">Category</th>
          <th class="border px-4 py-2">Model</th>
          <th class="border px-4 py-2">Manufacturer</th>
          <th class="border px-4 py-2">Status</th>
          <th class="border px-4 py-2">PO Date</th>
          <th class="border px-4 py-2">Purchase Date</th>
          <th class="border px-4 py-2">Intender</th>
          <th class="border px-4 py-2">Quantity</th>
        </tr>
      </thead>
      <tbody>
        {% for item in equipment %}
        <tr class="hover:bg-gray-50">
          <td class="border px-4 py-2">{{ item.department_code }}</td>
          <td class="border px-4 py-2">{{ item.name }}</td>
          <td class="border px-4 py-2">{{ item.category }}</td>
          <td class="border px-4 py-2">{{ item.model }}</td>
          <td class="border px-4 py-2">{{ item.manufacturer }}</td>
          <td class="border px-4 py-2">{{ item.status }}</td>
          <td class="border px-4 py-2">{{ item.po_date }}</td>
          <td class="border px-4 py-2">{{ item.purchase_date }}</td>
          <td class="border px-4 py-2">{{ item.intender_name }}</td>
          <td class="border px-4 py-2">{{ item.quantity }}</td>
        </tr>
        {% else %}
        <tr>
          <td colspan="10" class="text-center text-gray-500 py-4">No equipment found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
