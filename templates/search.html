{% extends layout %}
{% block title %}Search{% endblock %}
{% block content %}

<div class="min-h-screen bg-gradient-to-br from-indigo-100 to-blue-200 py-16 px-4">
  <div class="max-w-xl mx-auto bg-white/40 backdrop-blur-lg border border-white/30 rounded-xl shadow-lg p-8">

    <h1 class="text-3xl font-extrabold text-indigo-700 mb-6 text-center">Search Allocation</h1>

    <form method="POST" class="space-y-4 mb-8">
      <div>
        <label for="roll" class="block text-gray-800 font-semibold mb-1">Enter Roll Number</label>
        <input type="text" id="roll" name="roll" required
               class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
      </div>
      <button type="submit"
              class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 rounded-lg shadow transition">
        üîç Search
      </button>
    </form>

    <!-- {% if result %}
    Success Result 
    <div class="bg-white rounded-lg shadow-inner border-l-4 border-green-500 p-6 animate-fade-in">
      <h2 class="text-xl font-semibold text-green-700 mb-4">
        ‚úÖ Details Found for: <span class="font-bold text-indigo-800">{{ result.roll }}</span>
      </h2>
      <div class="grid grid-cols-1 gap-2 text-sm text-gray-700">
        <div><strong>Name:</strong> {{ result.name }}</div>
        <div><strong>Room / Lab:</strong> {{ result.room_lab_name }}</div>
        <div><strong>Cubicle No:</strong> {{ result.cubicle_no }}</div>
        <div><strong>System Serial:</strong> {{ result.serial }}</div>
        <div><strong>Issue Date:</strong> {{ result.issue_date }}</div>
        <div><strong>Required Till:</strong> {{ result.system_required_till }}</div>
      </div>
    </div>

    {% elif message %}
     No Result 
    <div class="bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-3 rounded shadow">
      ‚ö†Ô∏è {{ message }}
    </div>
    {% endif %} -->
 {% if result %}
<!-- Success Result -->
<div class="bg-white rounded-lg shadow-md border-l-4 border-green-500 p-6 animate-fade-in">
  <h2 class="text-xl font-semibold text-green-700 mb-4">
    ‚úÖ Allocation Details for: <span class="text-indigo-700 font-bold">{{ result.roll }}</span>
  </h2>

  <div class="overflow-x-auto">
    <table class="w-full text-sm text-gray-800">
      <tbody class="divide-y divide-gray-200">
        <tr>
          <td class="py-2 font-medium w-1/3">Name</td>
          <td class="py-2">{{ result.name }}</td>
        </tr>
        <tr>
          <td class="py-2 font-medium">Room / Lab</td>
          <td class="py-2">{{ result.room_lab_name }}</td>
        </tr>
        <tr>
          <td class="py-2 font-medium">Cubicle No</td>
          <td class="py-2">{{ result.cubicle_no }}</td>
        </tr>
        <tr>
          <td class="py-2 font-medium">System Serial</td>
          <td class="py-2">{{ result.serial }}</td>
        </tr>
        <tr>
          <td class="py-2 font-medium">Issue Date</td>
          <td class="py-2">{{ result.issue_date }}</td>
        </tr>
        <tr>
          <td class="py-2 font-medium">Required Till</td>
          <td class="py-2">{{ result.system_required_till }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
{% elif message %}
  <div class="bg-white border border-yellow-400 text-yellow-800 px-4 py-3 rounded shadow">
    ‚ö†Ô∏è {{ message }}
  </div>
{% endif %}

    <div class="mt-8 text-center">
      <a href="/login_home" class="text-indigo-600 font-medium hover:underline">‚Üê Back to Home</a>
    </div>
  </div>
</div>

<style>
@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-in-out;
}
</style>

{% endblock %}
